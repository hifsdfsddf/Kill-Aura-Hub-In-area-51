-- KILL AURA HUB v2.0 - Area 51 Enhanced
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local KillAuraBtn = Instance.new("TextButton")
local SpeedSlider = Instance.new("TextButton")
local ESPBtn = Instance.new("TextButton")
local InfAmmoBtn = Instance.new("TextButton")
local ToggleBtn = Instance.new("TextButton")
local CloseBtn = Instance.new("TextButton")

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

-- Variables
local killAuraEnabled = false
local espEnabled = false
local infAmmoEnabled = false
local speed = 16
local connections = {}

-- GUI Setup
ScreenGui.Parent = player:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
Frame.BorderSizePixel = 0
Frame.Position = UDim2.new(0.01, 0, 0.3, 0)
Frame.Size = UDim2.new(0, 250, 0, 300)
Frame.Active = true
Frame.Draggable = true

Title.Name = "Title"
Title.Parent = Frame
Title.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
Title.BorderSizePixel = 0
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Font = Enum.Font.GothamBold
Title.Text = "ðŸ”¥ KILL AURA HUB v2.0"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 16

-- Kill Aura Button
KillAuraBtn.Name = "KillAuraBtn"
KillAuraBtn.Parent = Frame
KillAuraBtn.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
KillAuraBtn.Position = UDim2.new(0.05, 0, 0.18, 0)
KillAuraBtn.Size = UDim2.new(0.9, 0, 0, 35)
KillAuraBtn.Font = Enum.Font.Gotham
KillAuraBtn.Text = "Kill Aura: OFF"
KillAuraBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
KillAuraBtn.TextSize = 14
KillAuraBtn.MouseButton1Click:Connect(function()
    killAuraEnabled = not killAuraEnabled
    KillAuraBtn.Text = "Kill Aura: " .. (killAuraEnabled and "ON" or "OFF")
    KillAuraBtn.BackgroundColor3 = killAuraEnabled and Color3.fromRGB(50, 255, 50) or Color3.fromRGB(255, 50, 50)
end)

-- Speed Slider (simplified button)
SpeedSlider.Name = "SpeedSlider"
SpeedSlider.Parent = Frame
SpeedSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
SpeedSlider.Position = UDim2.new(0.05, 0, 0.32, 0)
SpeedSlider.Size = UDim2.new(0.9, 0, 0, 35)
SpeedSlider.Font = Enum.Font.Gotham
SpeedSlider.Text = "Speed: 50"
SpeedSlider.TextColor3 = Color3.fromRGB(255, 255, 255)
SpeedSlider.TextSize = 14
SpeedSlider.MouseButton1Click:Connect(function()
    speed = speed == 16 and 100 or 16
    SpeedSlider.Text = "Speed: " .. speed
end)

-- ESP Toggle
ESPBtn.Name = "ESPBtn"
ESPBtn.Parent = Frame
ESPBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
ESPBtn.Position = UDim2.new(0.05, 0, 0.46, 0)
ESPBtn.Size = UDim2.new(0.9, 0, 0, 35)
ESPBtn.Font = Enum.Font.Gotham
ESPBtn.Text = "ESP: OFF"
ESPBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ESPBtn.TextSize = 14
ESPBtn.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    ESPBtn.Text = "ESP: " .. (espEnabled and "ON" or "OFF")
end)

-- Infinite Ammo
InfAmmoBtn.Name = "InfAmmoBtn"
InfAmmoBtn.Parent = Frame
InfAmmoBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
InfAmmoBtn.Position = UDim2.new(0.05, 0, 0.60, 0)
InfAmmoBtn.Size = UDim2.new(0.9, 0, 0, 35)
InfAmmoBtn.Font = Enum.Font.Gotham
InfAmmoBtn.Text = "Inf Ammo: OFF"
InfAmmoBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
InfAmmoBtn.TextSize = 14
InfAmmoBtn.MouseButton1Click:Connect(function()
    infAmmoEnabled = not infAmmoEnabled
    InfAmmoBtn.Text = "Inf Ammo: " .. (infAmmoEnabled and "ON" or "OFF")
end)

-- Toggle GUI
ToggleBtn.Name = "ToggleBtn"
ToggleBtn.Parent = Frame
ToggleBtn.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
ToggleBtn.Position = UDim2.new(0.05, 0, 0.74, 0)
ToggleBtn.Size = UDim2.new(0.9, 0, 0, 35)
ToggleBtn.Font = Enum.Font.Gotham
ToggleBtn.Text = "Hide GUI"
ToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleBtn.TextSize = 14
ToggleBtn.MouseButton1Click:Connect(function()
    Frame.Visible = not Frame.Visible
    ToggleBtn.Text = Frame.Visible and "Hide GUI" or "Show GUI"
end)

-- Close Button
CloseBtn.Name = "CloseBtn"
CloseBtn.Parent = Frame
CloseBtn.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
CloseBtn.Position = UDim2.new(0.85, 0, 0.05, 0)
CloseBtn.Size = UDim2.new(0, 25, 0, 25)
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseBtn.TextSize = 14
CloseBtn.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Kill Aura Logic
local function getCharacter()
    local char = player.Character
    if char and char:FindFirstChild("HumanoidRootPart") then
        return char, char.HumanoidRootPart
    end
    return nil, nil
end

connections[#connections+1] = game:GetService("RunService").Heartbeat:Connect(function()
    local char, rootPart = getCharacter()
    if not char or not rootPart or not killAuraEnabled then return end
    
    local nearestMob = nil
    local shortestDist = math.huge
    
    for _, obj in pairs(workspace:GetChildren()) do
        if obj.Name == "mob001" and obj:FindFirstChild("HumanoidRootPart") and obj:FindFirstChild("Humanoid") then
            if obj.Humanoid.Health > 0 then
                local dist = (rootPart.Position - obj.HumanoidRootPart.Position).Magnitude
                if dist < shortestDist then
                    shortestDist = dist
                    nearestMob = obj
                end
            end
        end
    end
    
    if nearestMob then
        local mobPos = nearestMob.HumanoidRootPart.Position
        rootPart.CFrame = CFrame.new(mobPos + Vector3.new(0, 15, 0), mobPos)
        
        -- Auto shoot
        local tool = char:FindFirstChildOfClass("Tool") or player.Backpack:FindFirstChildOfClass("Tool")
        if tool then tool.Parent = char end
        mouse1click(); wait(0.05); mouse1release()
    end
end)

-- Speed Hack
connections[#connections+1] = game:GetService("RunService").Heartbeat:Connect(function()
    local char = player.Character
    if char and char:FindFirstChild("Humanoid") then
        char.Humanoid.WalkSpeed = speed
    end
end)

-- ESP
connections[#connections+1] = game:GetService("RunService").Heartbeat:Connect(function()
    if not espEnabled then return end
    for _, obj in pairs(workspace:GetChildren()) do
        if obj.Name == "mob001" and obj:FindFirstChild("HumanoidRootPart") then
            local highlight = obj:FindFirstChild("ESPHighlight")
            if not highlight then
                highlight = Instance.new("Highlight")
                highlight.Name = "ESPHighlight"
                highlight.FillColor = Color3.fromRGB(255, 0, 0)
                highlight.Parent = obj
            end
        end
    end
end)

print("ðŸ”¥ KILL AURA HUB v2.0 LOADED!")
print("ðŸ“± GUI draggable + toggleable")
print("ðŸŽ® INSERT still works for Kill Aura toggle")
